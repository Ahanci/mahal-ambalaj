document.addEventListener("DOMContentLoaded",function(){const mobileMenuBtn=document.getElementById("mobile-menu-btn");const mobileMenu=document.getElementById("mobile-menu");if(mobileMenuBtn&&mobileMenu){mobileMenuBtn.addEventListener("click",function(){mobileMenu.classList.toggle("hidden")})}const mobileMenuLinks=mobileMenu?.querySelectorAll("a");mobileMenuLinks?.forEach(link=>{link.addEventListener("click",function(){mobileMenu.classList.add("hidden")})});const anchorLinks=document.querySelectorAll('a[href^="#"]');anchorLinks.forEach(link=>{link.addEventListener("click",function(e){e.preventDefault();const targetId=this.getAttribute("href");const targetElement=document.querySelector(targetId);if(targetElement){const headerHeight=document.querySelector("header").offsetHeight;const targetPosition=targetElement.offsetTop-headerHeight;window.scrollTo({top:targetPosition,behavior:"smooth"})}})});const backToTopBtn=document.getElementById("back-to-top");window.addEventListener("scroll",function(){if(window.pageYOffset>300){backToTopBtn.classList.add("visible");backToTopBtn.style.opacity="1";backToTopBtn.style.visibility="visible"}else{backToTopBtn.classList.remove("visible");backToTopBtn.style.opacity="0";backToTopBtn.style.visibility="hidden"}},{passive:true});backToTopBtn.addEventListener("click",function(){window.scrollTo({top:0,behavior:"smooth"})});const observerOptions={threshold:.1,rootMargin:"0px 0px -50px 0px"};const observer=new IntersectionObserver(function(entries){entries.forEach(entry=>{if(entry.isIntersecting){entry.target.classList.add("animate-fade-in-up");observer.unobserve(entry.target)}})},observerOptions);const animateElements=document.querySelectorAll(".product-card, .bg-white.rounded-lg, .text-center");animateElements.forEach(el=>{observer.observe(el)});function filterProducts(category){const products=document.querySelectorAll(".product-card");products.forEach(product=>{if(category==="all"||product.dataset.category===category){product.style.display="block";product.classList.add("animate-fade-in-up")}else{product.style.display="none"}})}const searchInput=document.querySelector("#search-input");if(searchInput){searchInput.addEventListener("input",function(){const searchTerm=this.value.toLowerCase();const products=document.querySelectorAll(".product-card");products.forEach(product=>{const title=product.querySelector("h3").textContent.toLowerCase();const description=product.querySelector("p").textContent.toLowerCase();if(title.includes(searchTerm)||description.includes(searchTerm)){product.style.display="block"}else{product.style.display="none"}})})}function showNotification(message,type="info"){const existingNotifications=document.querySelectorAll(".notification");existingNotifications.forEach(notification=>notification.remove());const notification=document.createElement("div");notification.className=`notification fixed top-4 right-4 z-50 p-4 rounded-lg shadow-lg max-w-sm transform transition-all duration-300 translate-x-full`;let icon,bgColor,textColor;switch(type){case"success":icon="fas fa-check-circle";bgColor="bg-green-500";textColor="text-white";break;case"error":icon="fas fa-exclamation-circle";bgColor="bg-red-500";textColor="text-white";break;case"warning":icon="fas fa-exclamation-triangle";bgColor="bg-yellow-500";textColor="text-white";break;default:icon="fas fa-info-circle";bgColor="bg-blue-500";textColor="text-white"}notification.className+=` ${bgColor} ${textColor}`;notification.innerHTML=`\n            <div class="flex items-center space-x-3">\n                <i class="${icon} text-xl"></i>\n                <p class="font-medium">${message}</p>\n                <button class="ml-auto text-white hover:text-gray-200" onclick="this.parentElement.parentElement.remove()">\n                    <i class="fas fa-times"></i>\n                </button>\n            </div>\n        `;document.body.appendChild(notification);setTimeout(()=>{notification.classList.remove("translate-x-full")},100);setTimeout(()=>{notification.classList.add("translate-x-full");setTimeout(()=>{notification.remove()},300)},5e3)}function lazyLoadImages(){const images=document.querySelectorAll("img[loading='lazy']");const imageObserver=new IntersectionObserver((entries,observer)=>{entries.forEach(entry=>{if(entry.isIntersecting){const img=entry.target;img.classList.add("loaded");imageObserver.unobserve(img)}})});images.forEach(img=>imageObserver.observe(img))}lazyLoadImages();const productCards=document.querySelectorAll(".product-card");productCards.forEach(card=>{card.addEventListener("mouseenter",function(){this.style.transform="translateY(-5px)"});card.addEventListener("mouseleave",function(){this.style.transform="translateY(0)"})});const phoneNumbers=document.querySelectorAll(".phone-number");phoneNumbers.forEach(phone=>{phone.addEventListener("click",function(){const number=this.textContent;navigator.clipboard.writeText(number).then(()=>{showNotification("Telefon numarası kopyalandı!","success")})})});const whatsappLinks=document.querySelectorAll(".whatsapp-link");whatsappLinks.forEach(link=>{link.addEventListener("click",function(e){e.preventDefault();const phone="905551234567";const message="Merhaba, Mahal Ambalaj hakkında bilgi almak istiyorum.";const whatsappUrl=`https://wa.me/${phone}?text=${encodeURIComponent(message)}`;window.open(whatsappUrl,"_blank")})});function addScrollProgress(){const progressBar=document.createElement("div");progressBar.className="fixed top-0 left-0 w-full h-1 bg-blue-600 z-50 transform origin-left";progressBar.style.transform="scaleX(0)";document.body.appendChild(progressBar);window.addEventListener("scroll",()=>{const scrollTop=window.pageYOffset;const docHeight=document.body.offsetHeight-window.innerHeight;const scrollPercent=scrollTop/docHeight;progressBar.style.transform=`scaleX(${scrollPercent})`})}addScrollProgress();document.addEventListener("keydown",function(e){if(e.key==="Escape"&&!mobileMenu.classList.contains("hidden")){mobileMenu.classList.add("hidden")}if(e.key==="Enter"&&document.activeElement.type==="submit"){document.activeElement.click()}});let touchStartY=0;let touchEndY=0;document.addEventListener("touchstart",function(e){touchStartY=e.changedTouches[0].screenY},{passive:true});document.addEventListener("touchend",function(e){touchEndY=e.changedTouches[0].screenY;handleSwipe()},{passive:true});function handleSwipe(){const swipeThreshold=50;const diff=touchStartY-touchEndY;if(Math.abs(diff)>swipeThreshold){if(diff>0){console.log("Swipe up detected")}else{console.log("Swipe down detected")}}}function debounce(func,wait){let timeout;return function executedFunction(...args){const later=()=>{clearTimeout(timeout);func(...args)};clearTimeout(timeout);timeout=setTimeout(later,wait)}}const debouncedScrollHandler=debounce(()=>{},16);window.addEventListener("scroll",debouncedScrollHandler);if("serviceWorker"in navigator){window.addEventListener("load",()=>{navigator.serviceWorker.register("./sw.js").then(registration=>{console.log("SW registered: ",registration)}).catch(registrationError=>{console.log("SW registration failed: ",registrationError)})})}window.addEventListener("online",function(){showNotification("İnternet bağlantısı yeniden kuruldu!","success")});window.addEventListener("offline",function(){showNotification("İnternet bağlantısı kesildi!","warning")});console.log("Mahal Ambalaj website loaded successfully!")});window.MahalAmbalaj={showNotification:function(message,type){if(typeof showNotification==="function"){showNotification(message,type)}},filterProducts:function(category){if(typeof filterProducts==="function"){filterProducts(category)}}};function initSlider(){const slider=document.getElementById("slider-container");const prevBtn=document.getElementById("prevBtn");const nextBtn=document.getElementById("nextBtn");const dots=document.querySelectorAll(".slider-dot");if(!slider||!prevBtn||!nextBtn)return;let currentSlide=0;const totalSlides=4;let autoSlideInterval;function updateSlider(){const translateX=-currentSlide*100;slider.style.transform=`translateX(${translateX}%)`;dots.forEach((dot,index)=>{if(index===currentSlide){dot.classList.add("bg-white","bg-opacity-100");dot.classList.remove("bg-opacity-60")}else{dot.classList.remove("bg-white","bg-opacity-100");dot.classList.add("bg-opacity-60")}})}function nextSlide(){currentSlide=(currentSlide+1)%totalSlides;updateSlider()}function prevSlide(){currentSlide=(currentSlide-1+totalSlides)%totalSlides;updateSlider()}function goToSlide(slideIndex){currentSlide=slideIndex;updateSlider()}function startAutoSlide(){autoSlideInterval=setInterval(nextSlide,5e3)}function stopAutoSlide(){clearInterval(autoSlideInterval)}nextBtn.addEventListener("click",()=>{nextSlide();stopAutoSlide();startAutoSlide()});prevBtn.addEventListener("click",()=>{prevSlide();stopAutoSlide();startAutoSlide()});dots.forEach((dot,index)=>{dot.addEventListener("click",()=>{goToSlide(index);stopAutoSlide();startAutoSlide()})});const sliderContainer=document.getElementById("slider");if(sliderContainer){sliderContainer.addEventListener("mouseenter",stopAutoSlide);sliderContainer.addEventListener("mouseleave",startAutoSlide)}document.addEventListener("keydown",e=>{if(e.key==="ArrowLeft"){prevSlide();stopAutoSlide();startAutoSlide()}else if(e.key==="ArrowRight"){nextSlide();stopAutoSlide();startAutoSlide()}});let touchStartX=0;let touchEndX=0;slider.addEventListener("touchstart",e=>{touchStartX=e.changedTouches[0].screenX},{passive:true});slider.addEventListener("touchend",e=>{touchEndX=e.changedTouches[0].screenX;handleSwipe()},{passive:true});function handleSwipe(){const swipeThreshold=50;const diff=touchStartX-touchEndX;if(Math.abs(diff)>swipeThreshold){if(diff>0){nextSlide()}else{prevSlide()}stopAutoSlide();startAutoSlide()}}updateSlider();startAutoSlide();document.addEventListener("visibilitychange",()=>{if(document.hidden){stopAutoSlide()}else{startAutoSlide()}})}initSlider();